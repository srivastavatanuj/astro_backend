!function(n){"use strict";function t(n,t){n.className+=" "+t}function r(n,t){for(var u,i=n.className.split(" "),f=t.split(" "),r=0;r<f.length;r+=1)u=i.indexOf(f[r]),u>-1&&i.splice(u,1);n.className=i.join(" ")}function d(){return"rtl"===n.getComputedStyle(document.body).direction}function w(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function b(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function l(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function p(n){var t,i,r;if(null===n)return n;if(Array.isArray(n)){for(t=[],i=0;i<n.length;i+=1)t.push(p(n[i]));return t}if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return t=new RegExp(n.source),t.global=n.global,t.ignoreCase=n.ignoreCase,t.multiline=n.multiline,t.lastIndex=n.lastIndex,t;if("object"==typeof n){t={};for(r in n)n.hasOwnProperty(r)&&(t[r]=p(n[r]));return t}return n}function g(n,t){if(n.elements){var i=n.elements.root;i.parentNode.removeChild(i);delete n.elements;n.settings=p(n.__settings);n.__init=t;delete n.__internal}}function h(n,t){return function(){if(arguments.length>0){for(var i=[],r=0;r<arguments.length;r+=1)i.push(arguments[r]);return i.push(n),t.apply(n,i)}return t.apply(n,[null,n])}}function nt(n,t){return{index:n,button:t,cancel:!1}}function o(n,t){if("function"==typeof t.get(n))return t.get(n).call(t)}function rt(){function n(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function i(n){var i=t[n].dialog;return i&&"function"==typeof i.__init&&i.__init(i),i}function r(i,r,u,f){var e={dialog:null,factory:r};return void 0!==f&&(e.factory=function(){return n(new t[f].factory,new r)}),u||(e.dialog=n(new e.factory,it)),t[i]=e}var t={};return{defaults:v,dialog:function(t,u,f,e){if("function"!=typeof u)return i(t);if(this.hasOwnProperty(t))throw new Error("alertify.dialog: name already exists");var o=r(t,u,f,e);this[t]=f?function(){if(0===arguments.length)return o.dialog;var t=n(new o.factory,it);return t&&"function"==typeof t.__init&&t.__init(t),t.main.apply(t,arguments),t.show.apply(t)}:function(){if(o.dialog&&"function"==typeof o.dialog.__init&&o.dialog.__init(o.dialog),0===arguments.length)return o.dialog;var n=o.dialog;return n.main.apply(o.dialog,arguments),n.show.apply(o.dialog)}},closeAll:function(n){for(var r,i=u.slice(0),t=0;t<i.length;t+=1)r=i[t],void 0!==n&&n===r||r.close()},setting:function(n,t,r){if("notifier"===n)return c.setting(t,r);var u=i(n);if(u)return u.setting(t,r)},set:function(n,t,i){return this.setting(n,t,i)},get:function(n,t){return this.setting(n,t)},notify:function(n,t,i,r){return c.create(t,r).push(n,i)},message:function(n,t,i){return c.create(null,i).push(n,t)},success:function(n,t,i){return c.create("success",i).push(n,t)},error:function(n,t,i){return c.create("error",i).push(n,t)},warning:function(n,t,i){return c.create("warning",i).push(n,t)},dismissAll:function(){c.dismissAll()}}}var tt=":not(:disabled):not(.ajs-reset)",s={ENTER:13,ESC:27,F1:112,F12:123,LEFT:37,RIGHT:39,TAB:9},v={autoReset:!0,basic:!1,closable:!0,closableByDimmer:!0,invokeOnCloseOff:!1,frameless:!1,defaultFocusOff:!1,maintainFocus:!0,maximizable:!0,modal:!0,movable:!0,moveBounded:!1,overflow:!0,padding:!0,pinnable:!0,pinned:!0,preventBodyShift:!1,resizable:!0,startMaximized:!1,transition:"pulse",transitionOff:!1,tabbable:["button","[href]","input","select","textarea",'[tabindex]:not([tabindex^="-"])'+tt].join(tt+","),notifier:{delay:5,position:"bottom-right",closeButton:!1,classes:{base:"alertify-notifier",prefix:"ajs-",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",center:"ajs-center",visible:"ajs-visible",hidden:"ajs-hidden",close:"ajs-close"}},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"},hooks:{preinit:function(){},postinit:function(){}}},u=[],k=!1,y;try{y=Object.defineProperty({},"passive",{get:function(){k=!0}});n.addEventListener("test",y,y);n.removeEventListener("test",y,y)}catch(ut){}var f=function(n,t,i,r,u){n.addEventListener(t,i,k?{capture:r,passive:u}:!0===r)},e=function(n,t,i,r,u){n.removeEventListener(t,i,k?{capture:r,passive:u}:!0===r)},a=function(){var n,t,i=!1,r={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(n in r)if(void 0!==document.documentElement.style[n]){t=r[n];i=!0;break}return{type:t,supported:i}}(),it=function(){function st(n){var f,b,l,a,k,v,e,r,w,u,s,o;if(!n.__internal){if(i.defaults.hooks.preinit(n),delete n.__init,n.__settings||(n.__settings=p(n.settings)),"function"==typeof n.setup?(f=n.setup(),f.options=f.options||{},f.focus=f.focus||{}):f={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof n.hooks&&(n.hooks={}),b=[],Array.isArray(f.buttons))for(l=0;l<f.buttons.length;l+=1){a=f.buttons[l];k={};for(v in a)a.hasOwnProperty(v)&&(k[v]=a[v]);b.push(k)}for(e=n.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:b,focus:f.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,defaultFocusOff:void 0,pinned:void 0,movable:void 0,moveBounded:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,invokeOnCloseOff:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,transitionOff:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclosing:void 0,onclose:void 0,onfocus:void 0,onmove:void 0,onmoved:void 0,onresize:void 0,onresized:void 0,onmaximize:void 0,onmaximized:void 0,onrestore:void 0,onrestored:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0,destroy:void 0},r={},r.root=document.createElement("div"),r.root.style.display="none",r.root.className=c.base+" "+c.hidden+" ",r.root.innerHTML=y.dimmer+y.modal,r.dimmer=r.root.firstChild,r.modal=r.root.lastChild,r.modal.innerHTML=y.dialog,r.dialog=r.modal.firstChild,r.dialog.innerHTML=y.reset+y.commands+y.header+y.body+y.footer+y.resizeHandle+y.reset,r.reset=[],r.reset.push(r.dialog.firstChild),r.reset.push(r.dialog.lastChild),r.commands={},r.commands.container=r.reset[0].nextSibling,r.commands.pin=r.commands.container.firstChild,r.commands.maximize=r.commands.pin.nextSibling,r.commands.close=r.commands.maximize.nextSibling,r.header=r.commands.container.nextSibling,r.body=r.header.nextSibling,r.body.innerHTML=y.content,r.content=r.body.firstChild,r.footer=r.body.nextSibling,r.footer.innerHTML=y.buttons.auxiliary+y.buttons.primary,r.resizeHandle=r.footer.nextSibling,r.buttons={},r.buttons.auxiliary=r.footer.firstChild,r.buttons.primary=r.buttons.auxiliary.nextSibling,r.buttons.primary.innerHTML=y.button,r.buttonTemplate=r.buttons.primary.firstChild,r.buttons.primary.removeChild(r.buttonTemplate),w=0;w<n.__internal.buttons.length;w+=1){u=n.__internal.buttons[w];vt.indexOf(u.key)<0&&vt.push(u.key);u.element=r.buttonTemplate.cloneNode();u.element.innerHTML=u.text;"string"==typeof u.className&&""!==u.className&&t(u.element,u.className);for(s in u.attrs)"className"!==s&&u.attrs.hasOwnProperty(s)&&u.element.setAttribute(s,u.attrs[s]);"auxiliary"===u.scope?r.buttons.auxiliary.appendChild(u.element):r.buttons.primary.appendChild(u.element)}n.elements=r;e.resetHandler=h(n,ui);e.beginMoveHandler=h(n,vu);e.beginResizeHandler=h(n,wu);e.bringToFrontHandler=h(n,yi);e.modalClickHandler=h(n,ou);e.buttonsClickHandler=h(n,su);e.commandsClickHandler=h(n,iu);e.transitionInHandler=h(n,hu);e.transitionOutHandler=h(n,cu);for(o in e.options)void 0!==f.options[o]?n.set(o,f.options[o]):i.defaults.hasOwnProperty(o)?n.set(o,i.defaults[o]):"title"===o&&n.set(o,i.defaults.glossary[o]);"function"==typeof n.build&&n.build();i.defaults.hooks.postinit(n)}document.body.appendChild(n.elements.root)}function wr(){cr=b();ft=w()}function ai(){n.scrollTo(cr,ft)}function rt(){for(var f,n=0,i=0;i<u.length;i+=1)f=u[i],(f.isModal()||f.isMaximized())&&(n+=1);0===n&&document.body.className.indexOf(c.noOverflow)>=0?(r(document.body,c.noOverflow),vi(!1)):n>0&&document.body.className.indexOf(c.noOverflow)<0&&(vi(!0),t(document.body,c.noOverflow))}function vi(u){i.defaults.preventBodyShift&&(u&&document.documentElement.scrollHeight>document.documentElement.clientHeight?(vr=ft,ar=n.getComputedStyle(document.body).top,t(document.body,c.fixed),document.body.style.top=-ft+"px"):u||(ft=vr,document.body.style.top=ar,r(document.body,c.fixed),ai()))}function br(n,i,u){"string"==typeof u&&r(n.elements.root,c.prefix+u);t(n.elements.root,c.prefix+i);hi=n.elements.root.offsetWidth}function kr(n){n.get("transitionOff")?t(n.elements.root,c.noTransition):r(n.elements.root,c.noTransition)}function dr(n){n.get("modal")?(r(n.elements.root,c.modeless),n.isOpen()&&(fr(n),ii(n),rt())):(t(n.elements.root,c.modeless),n.isOpen()&&(ur(n),ii(n),rt()))}function gr(n){n.get("basic")?t(n.elements.root,c.basic):r(n.elements.root,c.basic)}function nu(n){n.get("frameless")?t(n.elements.root,c.frameless):r(n.elements.root,c.frameless)}function yi(n,t){for(var r=u.indexOf(t),i=r+1;i<u.length;i+=1)if(u[i].isModal())return;return document.body.lastChild!==t.elements.root&&(document.body.appendChild(t.elements.root),u.splice(u.indexOf(t),1),u.push(t),ri(t)),!1}function tu(n,i,u,f){switch(i){case"title":n.setHeader(f);break;case"modal":dr(n);break;case"basic":gr(n);break;case"frameless":nu(n);break;case"pinned":uu(n);break;case"closable":eu(n);break;case"maximizable":fu(n);break;case"pinnable":ru(n);break;case"movable":yu(n);break;case"resizable":bu(n);break;case"padding":f?r(n.elements.root,c.noPadding):n.elements.root.className.indexOf(c.noPadding)<0&&t(n.elements.root,c.noPadding);break;case"overflow":f?r(n.elements.root,c.noOverflow):n.elements.root.className.indexOf(c.noOverflow)<0&&t(n.elements.root,c.noOverflow);break;case"transition":br(n,f,u);break;case"transitionOff":kr(n)}"function"==typeof n.hooks.onupdate&&n.hooks.onupdate.call(n,i,u,f)}function ni(n,t,i,r,u){var e={op:void 0,items:[]},s,o,f;if(void 0===u&&"string"==typeof r)e.op="get",t.hasOwnProperty(r)?(e.found=!0,e.value=t[r]):(e.found=!1,e.value=void 0);else if(e.op="set","object"==typeof r){o=r;for(f in o)t.hasOwnProperty(f)?(t[f]!==o[f]&&(s=t[f],t[f]=o[f],i.call(n,f,s,o[f])),e.items.push({key:f,value:o[f],found:!0})):e.items.push({key:f,value:o[f],found:!1})}else{if("string"!=typeof r)throw new Error("args must be a string or object");t.hasOwnProperty(r)?(t[r]!==u&&(s=t[r],t[r]=u,i.call(n,r,s,u)),e.items.push({key:r,value:u,found:!0})):e.items.push({key:r,value:u,found:!1})}return e}function ti(n){var t;ct(n,function(i){return t=!0!==n.get("invokeOnCloseOff")&&!0===i.invokeOnClose});!t&&n.isOpen()&&n.close()}function iu(n,t){switch(n.srcElement||n.target){case t.elements.commands.pin:t.isPinned()?wi(t):pi(t);break;case t.elements.commands.maximize:t.isMaximized()?ht(t):bi(t);break;case t.elements.commands.close:ti(t)}return!1}function pi(n){n.set("pinned",!0)}function wi(n){n.set("pinned",!1)}function bi(n){o("onmaximize",n);t(n.elements.root,c.maximized);n.isOpen()&&rt();o("onmaximized",n)}function ht(n){o("onrestore",n);r(n.elements.root,c.maximized);n.isOpen()&&rt();o("onrestored",n)}function ru(n){n.get("pinnable")?t(n.elements.root,c.pinnable):r(n.elements.root,c.pinnable)}function ki(n){var t=b();n.elements.modal.style.marginTop=w()+"px";n.elements.modal.style.marginLeft=t+"px";n.elements.modal.style.marginRight=-t+"px"}function di(n){var r=parseInt(n.elements.modal.style.marginTop,10),u=parseInt(n.elements.modal.style.marginLeft,10),t,i;(n.elements.modal.style.marginTop="",n.elements.modal.style.marginLeft="",n.elements.modal.style.marginRight="",n.isOpen())&&(t=0,i=0,""!==n.elements.dialog.style.top&&(t=parseInt(n.elements.dialog.style.top,10)),n.elements.dialog.style.top=t+(r-w())+"px",""!==n.elements.dialog.style.left&&(i=parseInt(n.elements.dialog.style.left,10)),n.elements.dialog.style.left=i+(u-b())+"px")}function ii(n){n.get("modal")||n.get("pinned")?di(n):ki(n)}function uu(n){n.get("pinned")?(r(n.elements.root,c.unpinned),n.isOpen()&&di(n)):(t(n.elements.root,c.unpinned),n.isOpen()&&!n.isModal()&&ki(n))}function fu(n){n.get("maximizable")?t(n.elements.root,c.maximizable):r(n.elements.root,c.maximizable)}function eu(n){n.get("closable")?(t(n.elements.root,c.closable),gu(n)):(r(n.elements.root,c.closable),nf(n))}function ou(n,t){if(n.timeStamp-yr>200&&(yr=n.timeStamp)&&!ci){var i=n.srcElement||n.target;!0===t.get("closableByDimmer")&&i===t.elements.modal&&ti(t)}ci=!1}function ct(n,t){var i,r,u;if(Date.now()-pr>200&&(pr=Date.now()))for(i=0;i<n.__internal.buttons.length;i+=1)if(r=n.__internal.buttons[i],!r.element.disabled&&t(r)){u=nt(i,r);"function"==typeof n.callback&&n.callback.apply(n,[u]);!1===u.cancel&&n.close();break}}function su(n,t){var i=n.srcElement||n.target;ct(t,function(n){return n.element===i&&(et=!0)})}function gi(n){if(et)return void(et=!1);var t=u[u.length-1],i=n.keyCode;return 0===t.__internal.buttons.length&&i===s.ESC&&!0===t.get("closable")?(ti(t),!1):vt.indexOf(i)>-1?(ct(t,function(n){return n.key===i}),!1):void 0}function nr(n){var f=u[u.length-1],t=n.keyCode,i,r;if(t===s.LEFT||t===s.RIGHT){for(i=f.__internal.buttons,r=0;r<i.length;r+=1)if(document.activeElement===i[r].element)switch(t){case s.LEFT:return void i[(r||i.length)-1].element.focus();case s.RIGHT:return void i[(r+1)%i.length].element.focus()}}else if(t<s.F12+1&&t>s.F1-1&&vt.indexOf(t)>-1)return n.preventDefault(),n.stopPropagation(),ct(f,function(n){return n.key===t}),!1}function ri(n,t){if(t)t.focus();else{var r=n.__internal.focus,i=r.element;switch(typeof r.element){case"number":n.__internal.buttons.length>r.element&&(i=!0===n.get("basic")?n.elements.reset[0]:n.__internal.buttons[r.element].element);break;case"string":i=n.elements.body.querySelector(r.element);break;case"function":i=r.element.call(n)}!0!==n.get("defaultFocusOff")&&(void 0!==i&&null!==i||0!==n.__internal.buttons.length)||(i=n.elements.reset[0]);i&&i.focus&&(i.focus(),r.select&&i.select&&i.select())}}function ui(n,t){var r;if(!t)for(r=u.length-1;r>-1;r-=1)if(u[r].isModal()){t=u[r];break}if(t&&t.isModal()){var e,f=t.elements.reset[0],o=t.elements.reset[1],s=n.relatedTarget,h=t.elements.root.contains(s),i=n.srcElement||n.target;if(i===f&&!h||i===o&&s===f)return;i===o||i===document.body?e=f:i===f&&s===o?e=tr(t):i===f&&h&&(e=tr(t,!0));ri(t,e)}}function tr(n,t){var u=[].slice.call(n.elements.dialog.querySelectorAll(v.tabbable)),r,i;for(t&&u.reverse(),r=0;r<u.length;r+=1)if(i=u[r],i.offsetParent||i.offsetWidth||i.offsetHeight||i.getClientRects().length)return i}function ir(n){var t=u[u.length-1];t&&n.shiftKey&&n.keyCode===s.TAB&&t.elements.reset[1].focus()}function hu(n,t){clearTimeout(t.__internal.timerIn);ri(t);et=!1;o("onfocus",t);e(t.elements.dialog,a.type,t.__internal.transitionInHandler);r(t.elements.root,c.animationIn)}function cu(n,t){clearTimeout(t.__internal.timerOut);e(t.elements.dialog,a.type,t.__internal.transitionOutHandler);lt(t);at(t);t.isMaximized()&&!t.get("startMaximized")&&ht(t);"function"==typeof t.__internal.destroy&&t.__internal.destroy.apply(t)}function lu(n,t){var r=n[yt]-li,i=n[pt]-ot;wt&&(i-=document.body.scrollTop);t.style.left=r+"px";t.style.top=i+"px"}function au(n,t){var r=n[yt]-li,i=n[pt]-ot;wt&&(i-=document.body.scrollTop);t.style.left=Math.min(tt.maxLeft,Math.max(tt.minLeft,r))+"px";t.style.top=wt?Math.min(tt.maxTop,Math.max(tt.minTop,i))+"px":Math.max(tt.minTop,i)+"px"}function vu(n,i){var u,f,e,r;if(null===k&&!i.isMaximized()&&i.get("movable")&&(f=0,e=0,"touchstart"===n.type?(n.preventDefault(),u=n.targetTouches[0],yt="clientX",pt="clientY"):0===n.button&&(u=n),u)){if(r=i.elements.dialog,t(r,c.capture),r.style.left&&(f=parseInt(r.style.left,10)),r.style.top&&(e=parseInt(r.style.top,10)),li=u[yt]-f,ot=u[pt]-e,i.isModal()?ot+=i.elements.modal.scrollTop:i.isPinned()&&(ot-=document.body.scrollTop),i.get("moveBounded")){var s=r,h=-f,l=-e;do h+=s.offsetLeft,l+=s.offsetTop;while(s=s.offsetParent);tt={maxLeft:h,minLeft:-h,maxTop:document.documentElement.clientHeight-r.clientHeight-l,minTop:-l};bt=au}else tt=null,bt=lu;return o("onmove",i),wt=!i.isModal()&&i.isPinned(),it=i,bt(u,r),t(document.body,c.noSelection),!1}}function fi(n){if(it){var t;"touchmove"===n.type?(n.preventDefault(),t=n.targetTouches[0]):0===n.button&&(t=n);t&&bt(t,it.elements.dialog)}}function ei(){if(it){var n=it;it=tt=null;r(document.body,c.noSelection);r(n.elements.dialog,c.capture);o("onmoved",n)}}function lt(n){it=null;var t=n.elements.dialog;t.style.left=t.style.top=""}function yu(n){n.get("movable")?(t(n.elements.root,c.movable),n.isOpen()&&er(n)):(lt(n),r(n.elements.root,c.movable),n.isOpen()&&or(n))}function pu(n,t,i){var u=t,f=0,h=0,r,o,s,e;do f+=u.offsetLeft,h+=u.offsetTop;while(u=u.offsetParent);!0===i?(r=n.pageX,o=n.pageY):(r=n.clientX,o=n.clientY);s=d();(s&&(r=document.body.offsetWidth-r,isNaN(ut)||(f=document.body.offsetWidth-f-t.offsetWidth)),t.style.height=o-h+gt+"px",t.style.width=r-f+gt+"px",isNaN(ut))||(e=.5*Math.abs(t.offsetWidth-kt),s&&(e*=-1),t.offsetWidth>kt?t.style.left=ut+e+"px":t.offsetWidth>=dt&&(t.style.left=ut-e+"px"))}function wu(n,i){var u,r;if(!i.isMaximized()&&("touchstart"===n.type?(n.preventDefault(),u=n.targetTouches[0]):0===n.button&&(u=n),u))return o("onresize",i),k=i,gt=i.elements.resizeHandle.offsetHeight/2,r=i.elements.dialog,t(r,c.capture),ut=parseInt(r.style.left,10),r.style.height=r.offsetHeight+"px",r.style.minHeight=i.elements.header.offsetHeight+i.elements.footer.offsetHeight+"px",r.style.width=(kt=r.offsetWidth)+"px","none"!==r.style.maxWidth&&(r.style.minWidth=(dt=r.offsetWidth)+"px"),r.style.maxWidth="none",t(document.body,c.noSelection),!1}function oi(n){if(k){var t;"touchmove"===n.type?(n.preventDefault(),t=n.targetTouches[0]):0===n.button&&(t=n);t&&pu(t,k.elements.dialog,!k.get("modal")&&!k.get("pinned"))}}function si(){if(k){var n=k;k=null;r(document.body,c.noSelection);r(n.elements.dialog,c.capture);ci=!0;o("onresized",n)}}function at(n){k=null;var t=n.elements.dialog;"none"===t.style.maxWidth&&(t.style.maxWidth=t.style.minWidth=t.style.width=t.style.height=t.style.minHeight=t.style.left="",ut=Number.Nan,kt=dt=gt=0)}function bu(n){n.get("resizable")?(t(n.elements.root,c.resizable),n.isOpen()&&sr(n)):(at(n),r(n.elements.root,c.resizable),n.isOpen()&&hr(n))}function rr(){for(var t,n=0;n<u.length;n+=1)t=u[n],t.get("autoReset")&&(lt(t),at(t))}function ku(t){1===u.length&&(f(n,"resize",rr),f(document.body,"keyup",gi),f(document.body,"keydown",nr),f(document.body,"focus",ui),f(document.documentElement,"mousemove",fi),f(document.documentElement,"touchmove",fi,!1,!1),f(document.documentElement,"mouseup",ei),f(document.documentElement,"touchend",ei),f(document.documentElement,"mousemove",oi),f(document.documentElement,"touchmove",oi,!1,!1),f(document.documentElement,"mouseup",si),f(document.documentElement,"touchend",si));f(t.elements.commands.container,"click",t.__internal.commandsClickHandler);f(t.elements.footer,"click",t.__internal.buttonsClickHandler);f(t.elements.reset[0],"focusin",t.__internal.resetHandler);f(t.elements.reset[0],"keydown",ir);f(t.elements.reset[1],"focusin",t.__internal.resetHandler);et=!0;f(t.elements.dialog,a.type,t.__internal.transitionInHandler);t.get("modal")||ur(t);t.get("resizable")&&sr(t);t.get("movable")&&er(t)}function du(t){1===u.length&&(e(n,"resize",rr),e(document.body,"keyup",gi),e(document.body,"keydown",nr),e(document.body,"focus",ui),e(document.documentElement,"mousemove",fi),e(document.documentElement,"mouseup",ei),e(document.documentElement,"mousemove",oi),e(document.documentElement,"mouseup",si));e(t.elements.commands.container,"click",t.__internal.commandsClickHandler);e(t.elements.footer,"click",t.__internal.buttonsClickHandler);e(t.elements.reset[0],"focusin",t.__internal.resetHandler);e(t.elements.reset[0],"keydown",ir);e(t.elements.reset[1],"focusin",t.__internal.resetHandler);f(t.elements.dialog,a.type,t.__internal.transitionOutHandler);t.get("modal")||fr(t);t.get("movable")&&or(t);t.get("resizable")&&hr(t)}function ur(n){f(n.elements.dialog,"focus",n.__internal.bringToFrontHandler,!0)}function fr(n){e(n.elements.dialog,"focus",n.__internal.bringToFrontHandler,!0)}function er(n){f(n.elements.header,"mousedown",n.__internal.beginMoveHandler);f(n.elements.header,"touchstart",n.__internal.beginMoveHandler,!1,!1)}function or(n){e(n.elements.header,"mousedown",n.__internal.beginMoveHandler);e(n.elements.header,"touchstart",n.__internal.beginMoveHandler,!1,!1)}function sr(n){f(n.elements.resizeHandle,"mousedown",n.__internal.beginResizeHandler);f(n.elements.resizeHandle,"touchstart",n.__internal.beginResizeHandler,!1,!1)}function hr(n){e(n.elements.resizeHandle,"mousedown",n.__internal.beginResizeHandler);e(n.elements.resizeHandle,"touchstart",n.__internal.beginResizeHandler,!1,!1)}function gu(n){f(n.elements.modal,"click",n.__internal.modalClickHandler)}function nf(n){e(n.elements.modal,"click",n.__internal.modalClickHandler)}var cr,ft,vt=[],hi=null,lr=!1,tf=n.navigator.userAgent.indexOf("Safari")>-1&&n.navigator.userAgent.indexOf("Chrome")<0,y={dimmer:'<div class="ajs-dimmer"><\/div>',modal:'<div class="ajs-modal" tabindex="0"><\/div>',dialog:'<div class="ajs-dialog" tabindex="0"><\/div>',reset:'<button class="ajs-reset"><\/button>',commands:'<div class="ajs-commands"><button class="ajs-pin"><\/button><button class="ajs-maximize"><\/button><button class="ajs-close"><\/button><\/div>',header:'<div class="ajs-header"><\/div>',body:'<div class="ajs-body"><\/div>',content:'<div class="ajs-content"><\/div>',footer:'<div class="ajs-footer"><\/div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"><\/div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"><\/div>'},button:'<button class="ajs-button"><\/button>',resizeHandle:'<div class="ajs-handle"><\/div>'},c={animationIn:"ajs-in",animationOut:"ajs-out",base:"alertify",basic:"ajs-basic",capture:"ajs-capture",closable:"ajs-closable",fixed:"ajs-fixed",frameless:"ajs-frameless",hidden:"ajs-hidden",maximize:"ajs-maximize",maximized:"ajs-maximized",maximizable:"ajs-maximizable",modeless:"ajs-modeless",movable:"ajs-movable",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",pin:"ajs-pin",pinnable:"ajs-pinnable",prefix:"ajs-",resizable:"ajs-resizable",restore:"ajs-restore",shake:"ajs-shake",unpinned:"ajs-unpinned",noTransition:"ajs-no-transition"},ar="",vr=0,ci=!1,yr=0,pr=0,et=!1,it=null,li=0,ot=0,yt="pageX",pt="pageY",tt=null,wt=!1,bt=null,k=null,ut=Number.Nan,kt=0,dt=0,gt=0;return{__init:st,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(c.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(c.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(c.unpinned)<0},maximize:function(){return this.isMaximized()||bi(this),this},restore:function(){return this.isMaximized()&&ht(this),this},pin:function(){return this.isPinned()||pi(this),this},unpin:function(){return this.isPinned()&&wi(this),this},bringToFront:function(){return yi(null,this),this},moveTo:function(n,t){var e,s;if(!isNaN(n)&&!isNaN(t)){o("onmove",this);var i=this.elements.dialog,r=i,u=0,f=0;i.style.left&&(u-=parseInt(i.style.left,10));i.style.top&&(f-=parseInt(i.style.top,10));do u+=r.offsetLeft,f+=r.offsetTop;while(r=r.offsetParent);e=n-u;s=t-f;d()&&(e*=-1);i.style.left=e+"px";i.style.top=s+"px";o("onmoved",this)}return this},resizeTo:function(n,t){var r=parseFloat(n),u=parseFloat(t),f=/(\d*\.\d+|\d+)%/,i;return isNaN(r)||isNaN(u)||!0!==this.get("resizable")||(o("onresize",this),(""+n).match(f)&&(r=r/100*document.documentElement.clientWidth),(""+t).match(f)&&(u=u/100*document.documentElement.clientHeight),i=this.elements.dialog,"none"!==i.style.maxWidth&&(i.style.minWidth=(dt=i.offsetWidth)+"px"),i.style.maxWidth="none",i.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",i.style.width=r+"px",i.style.height=u+"px",o("onresized",this)),this},setting:function(n,t){var e=this,i=ni(this,this.__internal.options,function(n,t,i){tu(e,n,t,i)},n,t),f,r,u;if("get"===i.op)return i.found?i.value:void 0!==this.settings?ni(this,this.settings,this.settingUpdated||function(){},n,t).value:void 0;if("set"===i.op){if(i.items.length>0)for(f=this.settingUpdated||function(){},r=0;r<i.items.length;r+=1)u=i.items[r],u.found||void 0===this.settings||ni(this,this.settings,f,u.key,u.value);return this}},set:function(n,t){return this.setting(n,t),this},get:function(n){return this.setting(n)},setHeader:function(t){return"string"==typeof t?(l(this.elements.header),this.elements.header.innerHTML=t):t instanceof n.HTMLElement&&this.elements.header.firstChild!==t&&(l(this.elements.header),this.elements.header.appendChild(t)),this},setContent:function(t){return"string"==typeof t?(l(this.elements.content),this.elements.content.innerHTML=t):t instanceof n.HTMLElement&&this.elements.content.firstChild!==t&&(l(this.elements.content),this.elements.content.appendChild(t)),this},showModal:function(n){return this.show(!0,n)},show:function(n,f){var s,e;return(st(this),this.__internal.isOpen)?(lt(this),at(this),t(this.elements.dialog,c.shake),s=this,setTimeout(function(){r(s.elements.dialog,c.shake)},200)):((this.__internal.isOpen=!0,u.push(this),i.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),document.body.hasAttribute("tabindex")||document.body.setAttribute("tabindex",lr="0"),"function"==typeof this.prepare&&this.prepare(),ku(this),void 0!==n&&this.set("modal",n),wr(),rt(),"string"==typeof f&&""!==f&&(this.__internal.className=f,t(this.elements.root,f)),this.get("startMaximized")?this.maximize():this.isMaximized()&&ht(this),ii(this),this.elements.root.removeAttribute("style"),r(this.elements.root,c.animationOut),t(this.elements.root,c.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,a.supported?1e3:100),tf)&&(e=this.elements.root,e.style.display="none",setTimeout(function(){e.style.display="block"},0)),hi=this.elements.root.offsetWidth,r(this.elements.root,c.hidden),ai(),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),o("onshow",this)),this},close:function(){return this.__internal.isOpen&&!1!==o("onclosing",this)&&(du(this),r(this.elements.root,c.animationIn),t(this.elements.root,c.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,a.supported?1e3:100),t(this.elements.root,c.hidden),hi=this.elements.modal.offsetWidth,i.defaults.maintainFocus&&this.__internal.activeElement&&(this.__internal.activeElement.focus(),this.__internal.activeElement=null),void 0!==this.__internal.className&&""!==this.__internal.className&&r(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),o("onclose",this),u.splice(u.indexOf(this),1),this.__internal.isOpen=!1,rt()),u.length||"0"!==lr||document.body.removeAttribute("tabindex"),this},closeOthers:function(){return i.closeAll(this),this},destroy:function(){return this.__internal&&(this.__internal.isOpen?(this.__internal.destroy=function(){g(this,st)},this.close()):this.__internal.destroy||g(this,st)),this}}}(),c=function(){function y(n){n.__internal||(n.__internal={position:i.defaults.notifier.position,delay:i.defaults.notifier.delay},o=document.createElement("DIV"),("transitionOff"in v.notifier?v.notifier.transitionOff:v.transitionOff)&&(w=u.base+" ajs-no-transition"),p(n));o.parentNode!==document.body&&document.body.appendChild(o)}function b(n){n.__internal.pushed=!0;s.push(n)}function k(n){s.splice(s.indexOf(n),1);n.__internal.pushed=!1}function p(n){switch(o.className=w,n.__internal.position){case"top-right":t(o,u.top+" "+u.right);break;case"top-left":t(o,u.top+" "+u.left);break;case"top-center":t(o,u.top+" "+u.center);break;case"bottom-left":t(o,u.bottom+" "+u.left);break;case"bottom-center":t(o,u.bottom+" "+u.center);break;default:case"bottom-right":t(o,u.bottom+" "+u.right)}}function d(s,v){function w(n,t){t.__internal.closeButton&&"true"!==n.target.getAttribute("data-close")||t.dismiss(!0)}function p(n,t){e(t.element,a.type,p);o.removeChild(t.element)}function d(n){return n.__internal||(n.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},n.__internal.clickHandler=h(n,w),n.__internal.transitionEndHandler=h(n,p)),n}function y(n){clearTimeout(n.__internal.timer);clearTimeout(n.__internal.transitionTimeout)}return d({element:s,push:function(n,r){if(!this.__internal.pushed){b(this);y(this);var s,e;switch(arguments.length){case 0:e=this.__internal.delay;break;case 1:"number"==typeof n?e=n:(s=n,e=this.__internal.delay);break;case 2:s=n;e=r}return this.__internal.closeButton=i.defaults.notifier.closeButton,void 0!==s&&this.setContent(s),c.__internal.position.indexOf("top")<0?o.appendChild(this.element):o.insertBefore(this.element,o.firstChild),g=this.element.offsetWidth,t(this.element,u.visible),f(this.element,"click",this.__internal.clickHandler),this.delay(e)}return this},ondismiss:function(){},callback:v,dismiss:function(n){return this.__internal.pushed&&(y(this),"function"==typeof this.ondismiss&&!1===this.ondismiss.call(this)||(e(this.element,"click",this.__internal.clickHandler),void 0!==this.element&&this.element.parentNode===o&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,a.supported?1e3:100),r(this.element,u.visible),"function"==typeof this.callback&&this.callback.call(this,n)),k(this))),this},delay:function(n){if(y(this),this.__internal.delay=void 0===n||isNaN(+n)?c.__internal.delay:+n,this.__internal.delay>0){var t=this;this.__internal.timer=setTimeout(function(){t.dismiss()},1e3*this.__internal.delay)}return this},setContent:function(i){if("string"==typeof i?(l(this.element),this.element.innerHTML=i):i instanceof n.HTMLElement&&this.element.firstChild!==i&&(l(this.element),this.element.appendChild(i)),this.__internal.closeButton){var r=document.createElement("span");t(r,u.close);r.setAttribute("data-close",!0);this.element.appendChild(r)}return this},dismissOthers:function(){return c.dismissAll(this),this}})}var g,o,s=[],u=v.notifier.classes,w=u.base;return{setting:function(n,t){if(y(this),void 0===t)return this.__internal[n];switch(n){case"position":this.__internal.position=t;p(this);break;case"delay":this.__internal.delay=t}return this},set:function(n,t){return this.setting(n,t),this},get:function(n){return this.setting(n)},create:function(n,t){y(this);var i=document.createElement("div");return i.className=u.message+("string"==typeof n&&""!==n?" "+u.prefix+n:""),d(i,t)},dismissAll:function(n){for(var r,i=s.slice(0),t=0;t<i.length;t+=1)r=i[t],void 0!==n&&n===r||r.dismiss()}}}(),i=new rt;i.dialog("alert",function(){return{main:function(n,t,i){var u,r,f;switch(arguments.length){case 1:r=n;break;case 2:"function"==typeof t?(r=n,f=t):(u=n,r=t);break;case 3:u=n;r=t;f=i}return this.set("title",u),this.set("message",r),this.set("onok",f),this},setup:function(){return{buttons:[{text:i.defaults.glossary.ok,key:s.ESC,invokeOnClose:!0,className:i.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(n){this.setContent(n)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(n,t,i){switch(n){case"message":this.setMessage(i);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=i)}},callback:function(n){if("function"==typeof this.get("onok")){var t=this.get("onok").call(this,n);void 0!==t&&(n.cancel=!t)}}}});i.dialog("confirm",function(){function t(t){null!==n.timer&&(clearInterval(n.timer),n.timer=null,t.__internal.buttons[n.index].element.innerHTML=n.text)}function r(i,r,u){t(i);n.duration=u;n.index=r;n.text=i.__internal.buttons[r].element.innerHTML;n.timer=setInterval(h(i,n.task),1e3);n.task(null,i)}var n={timer:null,index:null,text:null,duration:null,task:function(i,r){if(r.isOpen()){if(r.__internal.buttons[n.index].element.innerHTML=n.text+" (&#8207;"+n.duration+"&#8207;) ",n.duration-=1,-1===n.duration){t(r);var f=r.__internal.buttons[n.index],u=nt(n.index,f);"function"==typeof r.callback&&r.callback.apply(r,[u]);!1!==u.close&&r.close()}}else t(r)}};return{main:function(n,t,i,r){var o,u,f,e;switch(arguments.length){case 1:u=n;break;case 2:u=n;f=t;break;case 3:u=n;f=t;e=i;break;case 4:o=n;u=t;f=i;e=r}return this.set("title",o),this.set("message",u),this.set("onok",f),this.set("oncancel",e),this},setup:function(){return{buttons:[{text:i.defaults.glossary.ok,key:s.ENTER,className:i.defaults.theme.ok},{text:i.defaults.glossary.cancel,key:s.ESC,invokeOnClose:!0,className:i.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(n){this.setContent(n)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(n,t,i){switch(n){case"message":this.setMessage(i);break;case"labels":"ok"in i&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=i.ok,this.__internal.buttons[0].element.innerHTML=i.ok);"cancel"in i&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=i.cancel,this.__internal.buttons[1].element.innerHTML=i.cancel);break;case"reverseButtons":!0===i?this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element):this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===i?0:1}},callback:function(n){t(this);var i;switch(n.index){case 0:"function"==typeof this.get("onok")&&void 0!==(i=this.get("onok").call(this,n))&&(n.cancel=!i);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(i=this.get("oncancel").call(this,n))&&(n.cancel=!i)}},autoOk:function(n){return r(this,0,n),this},autoCancel:function(n){return r(this,1,n),this}}});i.dialog("prompt",function(){var t=document.createElement("INPUT"),r=document.createElement("P");return{main:function(n,t,i,r,u){var h,f,e,o,s;switch(arguments.length){case 1:f=n;break;case 2:f=n;e=t;break;case 3:f=n;e=t;o=i;break;case 4:f=n;e=t;o=i;s=r;break;case 5:h=n;f=t;e=i;o=r;s=u}return this.set("title",h),this.set("message",f),this.set("value",e),this.set("onok",o),this.set("oncancel",s),this},setup:function(){return{buttons:[{text:i.defaults.glossary.ok,key:s.ENTER,className:i.defaults.theme.ok},{text:i.defaults.glossary.cancel,key:s.ESC,invokeOnClose:!0,className:i.defaults.theme.cancel}],focus:{element:t,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){t.className=i.defaults.theme.input;t.setAttribute("type","text");t.value=this.get("value");this.elements.content.appendChild(r);this.elements.content.appendChild(t)},prepare:function(){},setMessage:function(t){"string"==typeof t?(l(r),r.innerHTML=t):t instanceof n.HTMLElement&&r.firstChild!==t&&(l(r),r.appendChild(t))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(n,i,r){switch(n){case"message":this.setMessage(r);break;case"value":t.value=r;break;case"type":switch(r){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":t.type=r;break;default:t.type="text"}break;case"labels":r.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=r.ok);r.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=r.cancel);break;case"reverseButtons":!0===r?this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element):this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element)}},callback:function(n){var i;switch(n.index){case 0:this.settings.value=t.value;"function"==typeof this.get("onok")&&void 0!==(i=this.get("onok").call(this,n,this.settings.value))&&(n.cancel=!i);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(i=this.get("oncancel").call(this,n))&&(n.cancel=!i);n.cancel||(t.value=this.settings.value)}}}});"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd?define([],function(){return i}):n.alertify||(n.alertify=i)}("undefined"!=typeof window?window:this),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?module.exports=n(require("jquery")):n(window.jQuery)}(function(n){"use strict";n.fn.ratingLocales={};n.fn.ratingThemes={};var t,i;t={NAMESPACE:".rating",DEFAULT_MIN:0,DEFAULT_MAX:5,DEFAULT_STEP:.5,isEmpty:function(t,i){return t===null||t===undefined||t.length===0||i&&n.trim(t)===""},getCss:function(n,t){return n?" "+t:""},addCss:function(n,t){n.removeClass(t).addClass(t)},getDecimalPlaces:function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},applyPrecision:function(n,t){return parseFloat(n.toFixed(t))},handler:function(n,i,r,u,f){var e=f?i:i.split(" ").join(t.NAMESPACE+" ")+t.NAMESPACE;u||n.off(e);n.on(e,r)}};i=function(t,i){var r=this;r.$element=n(t);r._init(i)};i.prototype={constructor:i,_parseAttr:function(n,i){var h=this,f=h.$element,o=f.attr("type"),s,e,r,u;if(o==="range"||o==="number"){e=i[n]||f.data(n)||f.attr(n);switch(n){case"min":r=t.DEFAULT_MIN;break;case"max":r=t.DEFAULT_MAX;break;default:r=t.DEFAULT_STEP}s=t.isEmpty(e)?r:e;u=parseFloat(s)}else u=parseFloat(i[n]);return isNaN(u)?r:u},_parseValue:function(n){var i=this,t=parseFloat(n);return isNaN(t)&&(t=i.clearValue),i.zeroAsNull&&(t===0||t==="0")?null:t},_setDefault:function(n,i){var r=this;t.isEmpty(r[n])&&(r[n]=i)},_initSlider:function(n){var i=this,r=i.$element.val();i.initialValue=t.isEmpty(r)?0:r;i._setDefault("min",i._parseAttr("min",n));i._setDefault("max",i._parseAttr("max",n));i._setDefault("step",i._parseAttr("step",n));(isNaN(i.min)||t.isEmpty(i.min))&&(i.min=t.DEFAULT_MIN);(isNaN(i.max)||t.isEmpty(i.max))&&(i.max=t.DEFAULT_MAX);(isNaN(i.step)||t.isEmpty(i.step)||i.step===0)&&(i.step=t.DEFAULT_STEP);i.diff=i.max-i.min},_initHighlight:function(n){var t=this,i,r=t._getCaption();n||(n=t.$element.val());i=t.getWidthFromValue(n)+"%";t.$filledStars.width(i);t.cache={caption:r,width:i,val:n}},_getContainerCss:function(){var n=this;return"rating-container"+t.getCss(n.theme,"theme-"+n.theme)+t.getCss(n.rtl,"rating-rtl")+t.getCss(n.size,"rating-"+n.size)+t.getCss(n.animate,"rating-animate")+t.getCss(n.disabled||n.readonly,"rating-disabled")+t.getCss(n.containerClass,n.containerClass)+(n.displayOnly?" is-display-only":"")},_checkDisabled:function(){var n=this,i=n.$element,t=n.options;n.disabled=t.disabled===undefined?i.attr("disabled")||!1:t.disabled;n.readonly=t.readonly===undefined?i.attr("readonly")||!1:t.readonly;n.inactive=n.disabled||n.readonly;i.attr({disabled:n.disabled,readonly:n.readonly})},_addContent:function(n,t){var r=this,i=r.$container,u=n==="clear";return r.rtl?u?i.append(t):i.prepend(t):u?i.prepend(t):i.append(t)},_generateRating:function(){var i=this,f=i.$element,r,u,e;u=i.$container=n(document.createElement("div")).insertBefore(f);t.addCss(u,i._getContainerCss());i.$rating=r=n(document.createElement("div")).attr("class","rating-stars").appendTo(u).append(i._getStars("empty")).append(i._getStars("filled"));i.$emptyStars=r.find(".empty-stars");i.$filledStars=r.find(".filled-stars");i._renderCaption();i._renderClear();i._initHighlight();i._initCaptionTitle();u.append(f);i.rtl&&(e=Math.max(i.$emptyStars.outerWidth(),i.$filledStars.outerWidth()),i.$emptyStars.width(e));f.appendTo(r)},_getCaption:function(){var n=this;return n.$caption&&n.$caption.length?n.$caption.html():n.defaultCaption},_setCaption:function(n){var t=this;t.$caption&&t.$caption.length&&t.$caption.html(n)},_renderCaption:function(){var i=this,f=i.$element.val(),u,r=i.captionElement?n(i.captionElement):"";if(i.showCaption){if(u=i.fetchCaption(f),r&&r.length){t.addCss(r,"caption");r.html(u);i.$caption=r;return}i._addContent("caption",'<div class="caption">'+u+"<\/div>");i.$caption=i.$container.find(".caption")}},_renderClear:function(){var i=this,u,r=i.clearElement?n(i.clearElement):"";if(i.showClear){if(u=i._getClearClass(),r.length){t.addCss(r,u);r.attr({title:i.clearButtonTitle}).html(i.clearButton);i.$clear=r;return}i._addContent("clear",'<div class="'+u+'" title="'+i.clearButtonTitle+'">'+i.clearButton+"<\/div>");i.$clear=i.$container.find("."+i.clearButtonBaseClass)}},_getClearClass:function(){var n=this;return n.clearButtonBaseClass+" "+(n.inactive?"":n.clearButtonActiveClass)},_toggleHover:function(n){var t=this,r,u,i;n&&(t.hoverChangeStars&&(r=t.getWidthFromValue(t.clearValue),u=n.val<=t.clearValue?r+"%":n.width,t.$filledStars.css("width",u)),t.hoverChangeCaption&&(i=n.val<=t.clearValue?t.fetchCaption(t.clearValue):n.caption,i&&t._setCaption(i+"")))},_init:function(t){var i=this,r=i.$element.addClass("rating-input"),u;return i.options=t,n.each(t,function(n,t){i[n]=t}),(i.rtl||r.attr("dir")==="rtl")&&(i.rtl=!0,r.attr("dir","rtl")),i.starClicked=!1,i.clearClicked=!1,i._initSlider(t),i._checkDisabled(),i.displayOnly&&(i.inactive=!0,i.showClear=!1,i.hoverEnabled=!1,i.hoverChangeCaption=!1,i.hoverChangeStars=!1),i._generateRating(),i._initEvents(),i._listen(),u=i._parseValue(r.val()),r.val(u),r.removeClass("rating-loading")},_initCaptionTitle:function(){var t=this,i;t.showCaptionAsTitle&&(i=t.fetchCaption(t.$element.val()),t.$rating.attr("title",n(i).text()))},_trigChange:function(n){var t=this;t._initCaptionTitle();t.$element.trigger("change").trigger("rating:change",n)},_initEvents:function(){var n=this;n.events={_getTouchPosition:function(i){var r=t.isEmpty(i.pageX)?i.originalEvent.touches[0].pageX:i.pageX;return r-n.$rating.offset().left},_listenClick:function(n,t){if(n.stopPropagation(),n.preventDefault(),n.handled!==!0)t(n),n.handled=!0;else return!1},_noMouseAction:function(t){return!n.hoverEnabled||n.inactive||t&&t.isDefaultPrevented()},initTouch:function(i){var u,o,e,r,s,h,c,l,f=n.clearValue||0,a="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch;a&&!n.inactive&&(u=i.originalEvent,o=t.isEmpty(u.touches)?u.changedTouches:u.touches,e=n.events._getTouchPosition(o[0]),i.type==="touchend"?(n._setStars(e),l=[n.$element.val(),n._getCaption()],n._trigChange(l),n.starClicked=!0):(r=n.calculate(e),s=r.val<=f?n.fetchCaption(f):r.caption,h=n.getWidthFromValue(f),c=r.val<=f?h+"%":r.width,n._setCaption(s),n.$filledStars.css("width",c)))},starClick:function(t){var i,r;n.events._listenClick(t,function(t){if(n.inactive)return!1;i=n.events._getTouchPosition(t);n._setStars(i);r=[n.$element.val(),n._getCaption()];n._trigChange(r);n.starClicked=!0})},clearClick:function(t){n.events._listenClick(t,function(){n.inactive||(n.clear(),n.clearClicked=!0)})},starMouseMove:function(t){var r,i;n.events._noMouseAction(t)||(n.starClicked=!1,r=n.events._getTouchPosition(t),i=n.calculate(r),n._toggleHover(i),n.$element.trigger("rating:hover",[i.val,i.caption,"stars"]))},starMouseLeave:function(t){var i;n.events._noMouseAction(t)||n.starClicked||(i=n.cache,n._toggleHover(i),n.$element.trigger("rating:hoverleave",["stars"]))},clearMouseMove:function(t){var r,i,u,f;!n.events._noMouseAction(t)&&n.hoverOnClear&&(n.clearClicked=!1,r='<span class="'+n.clearCaptionClass+'">'+n.clearCaption+"<\/span>",i=n.clearValue,u=n.getWidthFromValue(i)||0,f={caption:r,width:u,val:i},n._toggleHover(f),n.$element.trigger("rating:hover",[i,r,"clear"]))},clearMouseLeave:function(t){var i;n.events._noMouseAction(t)||n.clearClicked||!n.hoverOnClear||(i=n.cache,n._toggleHover(i),n.$element.trigger("rating:hoverleave",["clear"]))},resetForm:function(t){t&&t.isDefaultPrevented()||n.inactive||n.reset()}}},_listen:function(){var i=this,e=i.$element,o=e.closest("form"),u=i.$rating,f=i.$clear,r=i.events;return t.handler(u,"touchstart touchmove touchend",n.proxy(r.initTouch,i)),t.handler(u,"click touchstart",n.proxy(r.starClick,i)),t.handler(u,"mousemove",n.proxy(r.starMouseMove,i)),t.handler(u,"mouseleave",n.proxy(r.starMouseLeave,i)),i.showClear&&f.length&&(t.handler(f,"click touchstart",n.proxy(r.clearClick,i)),t.handler(f,"mousemove",n.proxy(r.clearMouseMove,i)),t.handler(f,"mouseleave",n.proxy(r.clearMouseLeave,i))),o.length&&t.handler(o,"reset",n.proxy(r.resetForm,i),!0),e},_getStars:function(n){for(var i=this,r='<span class="'+n+'-stars">',t=1;t<=i.stars;t++)r+='<span class="star">'+i[n+"Star"]+"<\/span>";return r+"<\/span>"},_setStars:function(n){var t=this,i=arguments.length?t.calculate(n):t.calculate(),r=t.$element,u=t._parseValue(i.val);return r.val(u),t.$filledStars.css("width",i.width),t._setCaption(i.caption),t.cache=i,r},showStars:function(n){var t=this,i=t._parseValue(n);return t.$element.val(i),t._initCaptionTitle(),t._setStars()},calculate:function(n){var i=this,f=t.isEmpty(i.$element.val())?0:i.$element.val(),r=arguments.length?i.getValueFromPosition(n):f,e=i.fetchCaption(r),u=i.getWidthFromValue(r);return u+="%",{caption:e,width:u,val:r}},getValueFromPosition:function(n){var i=this,f=t.getDecimalPlaces(i.step),r,u,e=i.$rating.width();return u=i.diff*n/(e*i.step),u=i.rtl?Math.floor(u):Math.ceil(u),r=t.applyPrecision(parseFloat(i.min+u*i.step),f),r=Math.max(Math.min(r,i.max),i.min),i.rtl?i.max-r:r},getWidthFromValue:function(n){var i=this,t=i.min,r=i.max,f,e=i.$emptyStars,u;return!n||n<=t||t===r?0:(u=e.outerWidth(),f=u?e.width()/u:1,n>=r)?100:(n-t)*f*100/(r-t)},fetchCaption:function(n){var r=this,i=parseFloat(n)||r.clearValue,s,h,u,f,c,e=r.starCaptions,o=r.starCaptionClasses,l=r.getWidthFromValue(i);return i&&i!==r.clearValue&&(i=t.applyPrecision(i,t.getDecimalPlaces(r.step))),f=typeof o=="function"?o(i,l):o[i],u=typeof e=="function"?e(i,l):e[i],h=t.isEmpty(u)?r.defaultCaption.replace(/\{rating}/g,i):u,s=t.isEmpty(f)?r.clearCaptionClass:f,c=i===r.clearValue?r.clearCaption:h,'<span class="'+s+'">'+c+"<\/span>"},destroy:function(){var i=this,r=i.$element;return t.isEmpty(i.$container)||i.$container.before(r).remove(),n.removeData(r.get(0)),r.off("rating").removeClass("rating rating-input")},create:function(n){var t=this,i=n||t.options||{};return t.destroy().rating(i)},clear:function(){var n=this,t='<span class="'+n.clearCaptionClass+'">'+n.clearCaption+"<\/span>";return n.inactive||n._setCaption(t),n.showStars(n.clearValue).trigger("change").trigger("rating:clear")},reset:function(){var n=this;return n.showStars(n.initialValue).trigger("rating:reset")},update:function(n){var t=this;return arguments.length?t.showStars(n):t.$element},refresh:function(t){var i=this,r=i.$element;return t?i.destroy().rating(n.extend(!0,i.options,t)).trigger("rating:refresh"):r}};n.fn.rating=function(r){var f=Array.apply(null,arguments),u=[];f.shift();this.each(function(){var e=n(this),o=e.data("rating"),s=typeof r=="object"&&r,c=s.theme||e.data("theme"),h=s.language||e.data("language")||"en",l={},a={},v;o||(c&&(l=n.fn.ratingThemes[c]||{}),h==="en"||t.isEmpty(n.fn.ratingLocales[h])||(a=n.fn.ratingLocales[h]),v=n.extend(!0,{},n.fn.rating.defaults,l,n.fn.ratingLocales.en,a,s,e.data()),o=new i(this,v),e.data("rating",o));typeof r=="string"&&u.push(o[r].apply(o,f))});switch(u.length){case 0:return this;case 1:return u[0]===undefined?this:u[0];default:return u}};n.fn.rating.defaults={theme:"",language:"en",stars:5,filledStar:'<i class="glyphicon glyphicon-star"><\/i>',emptyStar:'<i class="glyphicon glyphicon-star-empty"><\/i>',containerClass:"",size:"md",animate:!0,displayOnly:!1,rtl:!1,showClear:!0,showCaption:!0,starCaptionClasses:{.5:"label label-danger badge-danger",1:"label label-danger badge-danger",1.5:"label label-warning badge-warning",2:"label label-warning badge-warning",2.5:"label label-info badge-info",3:"label label-info badge-info",3.5:"label label-primary badge-primary",4:"label label-primary badge-primary",4.5:"label label-success badge-success",5:"label label-success badge-success"},clearButton:'<i class="glyphicon glyphicon-minus-sign"><\/i>',clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaptionClass:"label label-default badge-secondary",clearValue:null,captionElement:null,clearElement:null,showCaptionAsTitle:!0,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0,zeroAsNull:!0};n.fn.ratingLocales.en={defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},clearButtonTitle:"Clear",clearCaption:"Not Rated"};n.fn.rating.Constructor=i;n(document).ready(function(){var t=n("input.rating");t.length&&t.removeClass("rating-loading").addClass("rating-loading").rating()})})